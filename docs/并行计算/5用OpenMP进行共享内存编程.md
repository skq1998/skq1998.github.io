---
category: 并行计算
share: true
---

与 pthread 一样，OpenMP 是一个针对共享内存并行编程的 API。尽管 OpenMp 和 Pthreads 都是针对共享内存编程的 API，但是他们有许多本质不同。

- Pthreads 要求程序员显式地明确每个线程地行为
- OpenMP 有时允许程序员只需要简单声明一块代码应该并行执行，而由编译器和运行时系统来决定哪个线程具体执行哪个任务

这也意味着

- Pthreads 是一个能够被连接到 C 程序的函数库，因此只要系统有 Pthreads 库，Pthreads 程序就能够被任意 C 编译器使用
- OpenMP 要求编译器支持某些操作，所以完全有可能你使用的编译器无法把 OpenMP 程序编译成并行程序

> 程序员和计算机科学家开发 OpenMP 的原因是：他们认为使用诸如 Pthreads 的 API 来编写大规模高性能的程序实在是太难了。于是他们定义了 OpenMP 规范，在一个更高的层次上开发共享内存程序

事实上，OpenMP 明确地被设计成可以用来对已有地串行程序进行**增量式**并行化，这对于 MPI 是不可能地，对于 Pthreads 也是相当困难的。本节主要内容为：

1. 如何使用 OpenMP 编写程序
2. 如何编译和运行 OpenMP 程序
3. 如何利用 OpenMP 最强大的功能：只需要对源代码进行少量改动就可以并行化许多串行的 for 循环
4. 还将看到 OpenMP 的一些其他特征：任务并行化和显式线程同步
5. 也会看到一些在共享内存编程中的标准问题：缓存对共享内存编程的影响以及当串行代码（特别是一个串行库）被一个共享内存程序使用时遇到的问题

## 预备知识
